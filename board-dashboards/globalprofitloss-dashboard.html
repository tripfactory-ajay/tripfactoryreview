<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TripFactory Office P&L Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .profit-positive { color: #2a9d8f; }
        .profit-negative { color: #e63946; }
        .office-card { transition: all 0.3s; cursor: pointer; }
        .office-card:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .cost-bar { transition: width 1s ease-out; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">

<header class="bg-white border-b-2 border-[#0066cc] px-6 py-4 shadow-lg">
    <div class="flex justify-between items-center max-w-[1600px] mx-auto">
        <div>
            <h1 class="text-2xl font-bold text-[#1e3a5f]">Office P&L Analysis</h1>
            <p class="text-xs text-slate-500">Operating Costs vs Revenue by Location</p>
        </div>
        <div class="flex gap-3">
            <select class="border border-slate-300 rounded-lg px-3 py-2 text-sm">
                <option>2024 YTD</option>
                <option>2024 Q4</option>
                <option>2023 Full Year</option>
            </select>
            <button onclick="exportPnL()" class="px-4 py-2 bg-[#0066cc] text-white rounded-lg text-sm font-bold">
                Export Report
            </button>
            <button onclick="window.location.href='home.html'" class="px-4 py-2 border-2 border-[#0066cc] text-[#0066cc] rounded-lg text-sm font-bold">
                ‚Üê Back
            </button>
        </div>
    </div>
</header>

<main class="max-w-[1600px] mx-auto p-6 space-y-6">

    <!-- Global Summary -->
    <div class="grid grid-cols-5 gap-4">
        <div class="bg-white rounded-xl p-5 shadow-lg border-l-4 border-[#0066cc]">
            <div class="text-xs text-slate-500 font-bold uppercase">Total Revenue</div>
            <div class="text-2xl font-bold text-[#1e3a5f] mono">$18.4M</div>
            <div class="text-xs text-green-600 font-bold mt-1">‚Üë 15.3%</div>
        </div>
        <div class="bg-white rounded-xl p-5 shadow-lg border-l-4 border-red-500">
            <div class="text-xs text-slate-500 font-bold uppercase">Total OpEx</div>
            <div class="text-2xl font-bold text-[#1e3a5f] mono">$3.24M</div>
            <div class="text-xs text-red-600 font-bold mt-1">‚Üë 8.2%</div>
        </div>
        <div class="bg-white rounded-xl p-5 shadow-lg border-l-4 border-[#2a9d8f]">
            <div class="text-xs text-slate-500 font-bold uppercase">Net Profit</div>
            <div class="text-2xl font-bold text-[#2a9d8f] mono">$4.32M</div>
            <div class="text-xs text-green-600 font-bold mt-1">‚Üë 22.4%</div>
        </div>
        <div class="bg-white rounded-xl p-5 shadow-lg border-l-4 border-[#ffb703]">
            <div class="text-xs text-slate-500 font-bold uppercase">Avg OpEx Ratio</div>
            <div class="text-2xl font-bold text-[#1e3a5f] mono">17.6%</div>
            <div class="text-xs text-green-600 font-bold mt-1">‚Üì 1.2pp</div>
        </div>
        <div class="bg-white rounded-xl p-5 shadow-lg border-l-4 border-purple-500">
            <div class="text-xs text-slate-500 font-bold uppercase">Break-even Offices</div>
            <div class="text-2xl font-bold text-[#1e3a5f] mono">6/7</div>
            <div class="text-xs text-red-600 font-bold mt-1">Thailand at risk</div>
        </div>
    </div>

    <!-- Office Comparison Chart -->
    <div class="bg-white rounded-xl p-6 shadow-lg">
        <h3 class="text-lg font-bold text-[#1e3a5f] mb-4">Revenue vs Operating Costs by Office</h3>
        <div class="h-80">
            <canvas id="officeComparisonChart"></canvas>
        </div>
    </div>

    <!-- Detailed Office Cards -->
    <div class="grid grid-cols-2 gap-6">

        <!-- USA Office - Star Performer -->
        <div class="office-card bg-white rounded-xl p-6 shadow-lg border-2 border-[#2a9d8f]">
            <div class="flex justify-between items-start mb-4">
                <div class="flex items-center gap-3">
                    <img src="https://flagcdn.com/w40/us.png" class="w-10 rounded shadow">
                    <div>
                        <h3 class="text-xl font-bold text-[#1e3a5f]">USA Office</h3>
                        <span class="text-xs text-[#2a9d8f] font-bold">‚òÖ Star Performer</span>
                    </div>
                </div>
                <span class="px-3 py-1 bg-[#2a9d8f] text-white text-xs font-bold rounded-full">Owned</span>
            </div>

            <div class="grid grid-cols-3 gap-4 mb-4">
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="text-xs text-slate-500">Revenue</div>
                    <div class="text-xl font-bold text-[#1e3a5f] mono">$4.24M</div>
                </div>
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="text-xs text-slate-500">OpEx</div>
                    <div class="text-xl font-bold text-red-600 mono">$680K</div>
                </div>
                <div class="p-3 bg-green-50 rounded-lg border border-green-200">
                    <div class="text-xs text-green-600 font-bold">Net Profit</div>
                    <div class="text-xl font-bold text-green-600 mono">$2.14M</div>
                </div>
            </div>

            <!-- Cost Breakdown -->
            <div class="space-y-3">
                <div class="text-xs font-bold text-slate-500 uppercase mb-2">Operating Cost Breakdown</div>
                
                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Staff (12 people)</span>
                        <span class="font-bold">$420K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-blue-500 h-2 rounded-full" style="width: 62%"></div>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Rent & Utilities</span>
                        <span class="font-bold">$145K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-yellow-500 h-2 rounded-full" style="width: 21%"></div>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Technology & Systems</span>
                        <span class="font-bold">$65K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-purple-500 h-2 rounded-full" style="width: 10%"></div>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Marketing (Local)</span>
                        <span class="font-bold">$50K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-green-500 h-2 rounded-full" style="width: 7%"></div>
                    </div>
                </div>
            </div>

            <div class="mt-4 p-3 bg-green-50 rounded-lg border border-green-200">
                <div class="flex justify-between items-center">
                    <span class="text-sm font-bold text-green-800">Profit Margin</span>
                    <span class="text-2xl font-bold text-green-600">50.5%</span>
                </div>
                <div class="text-xs text-green-700 mt-1">OpEx Ratio: 16.0% | ROI: 315%</div>
            </div>
        </div>

        <!-- UK Office - Solid -->
        <div class="office-card bg-white rounded-xl p-6 shadow-lg border-2 border-blue-200">
            <div class="flex justify-between items-start mb-4">
                <div class="flex items-center gap-3">
                    <img src="https://flagcdn.com/w40/gb.png" class="w-10 rounded shadow">
                    <div>
                        <h3 class="text-xl font-bold text-[#1e3a5f]">UK Office</h3>
                        <span class="text-xs text-blue-600 font-bold">Solid Performer</span>
                    </div>
                </div>
                <span class="px-3 py-1 bg-blue-500 text-white text-xs font-bold rounded-full">Owned</span>
            </div>

            <div class="grid grid-cols-3 gap-4 mb-4">
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="text-xs text-slate-500">Revenue</div>
                    <div class="text-xl font-bold text-[#1e3a5f] mono">$2.84M</div>
                </div>
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="text-xs text-slate-500">OpEx</div>
                    <div class="text-xl font-bold text-red-600 mono">$420K</div>
                </div>
                <div class="p-3 bg-green-50 rounded-lg border border-green-200">
                    <div class="text-xs text-green-600 font-bold">Net Profit</div>
                    <div class="text-xl font-bold text-green-600 mono">$1.24M</div>
                </div>
            </div>

            <div class="space-y-3">
                <div class="text-xs font-bold text-slate-500 uppercase mb-2">Operating Cost Breakdown</div>
                
                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Staff (8 people)</span>
                        <span class="font-bold">$280K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-blue-500 h-2 rounded-full" style="width: 67%"></div>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Rent (London)</span>
                        <span class="font-bold">$95K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-yellow-500 h-2 rounded-full" style="width: 23%"></div>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Technology</span>
                        <span class="font-bold">$28K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-purple-500 h-2 rounded-full" style="width: 7%"></div>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Marketing</span>
                        <span class="font-bold">$17K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-green-500 h-2 rounded-full" style="width: 3%"></div>
                    </div>
                </div>
            </div>

            <div class="mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200">
                <div class="flex justify-between items-center">
                    <span class="text-sm font-bold text-blue-800">Profit Margin</span>
                    <span class="text-2xl font-bold text-blue-600">43.7%</span>
                </div>
                <div class="text-xs text-blue-700 mt-1">OpEx Ratio: 14.8% | ROI: 295%</div>
            </div>
        </div>

        <!-- Thailand Office - At Risk -->
        <div class="office-card bg-white rounded-xl p-6 shadow-lg border-2 border-red-300">
            <div class="flex justify-between items-start mb-4">
                <div class="flex items-center gap-3">
                    <img src="https://flagcdn.com/w40/th.png" class="w-10 rounded shadow">
                    <div>
                        <h3 class="text-xl font-bold text-[#1e3a5f]">Thailand Office</h3>
                        <span class="text-xs text-red-600 font-bold">‚ö†Ô∏è At Risk</span>
                    </div>
                </div>
                <span class="px-3 py-1 bg-yellow-500 text-white text-xs font-bold rounded-full">Franchise</span>
            </div>

            <div class="grid grid-cols-3 gap-4 mb-4">
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="text-xs text-slate-500">Revenue</div>
                    <div class="text-xl font-bold text-[#1e3a5f] mono">$620K</div>
                </div>
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="text-xs text-slate-500">OpEx</div>
                    <div class="text-xl font-bold text-red-600 mono">$140K</div>
                </div>
                <div class="p-3 bg-yellow-50 rounded-lg border border-yellow-200">
                    <div class="text-xs text-yellow-700 font-bold">Net Profit</div>
                    <div class="text-xl font-bold text-yellow-600 mono">$145K</div>
                </div>
            </div>

            <div class="space-y-3">
                <div class="text-xs font-bold text-slate-500 uppercase mb-2">Operating Cost Breakdown</div>
                
                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Staff (6 people)</span>
                        <span class="font-bold">$72K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-blue-500 h-2 rounded-full" style="width: 51%"></div>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Rent (Bangkok)</span>
                        <span class="font-bold">$42K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-yellow-500 h-2 rounded-full" style="width: 30%"></div>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Franchise Fee</span>
                        <span class="font-bold">$18K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-red-400 h-2 rounded-full" style="width: 13%"></div>
                    </div>
                </div>
            </div>

            <div class="mt-4 p-3 bg-red-50 rounded-lg border border-red-200">
                <div class="flex justify-between items-center">
                    <span class="text-sm font-bold text-red-800">Profit Margin</span>
                    <span class="text-2xl font-bold text-red-600">23.4%</span>
                </div>
                <div class="text-xs text-red-700 mt-1">OpEx Ratio: 22.6% | ROI: 104%</div>
            </div>

            <div class="mt-3 p-2 bg-red-100 rounded text-xs text-red-700">
                <strong>Action Required:</strong> Revenue down 15% Q-o-Q. Consider restructuring or closure.
            </div>
        </div>

        <!-- India Office - Growth -->
        <div class="office-card bg-white rounded-xl p-6 shadow-lg border-2 border-purple-200">
            <div class="flex justify-between items-start mb-4">
                <div class="flex items-center gap-3">
                    <img src="https://flagcdn.com/w40/in.png" class="w-10 rounded shadow">
                    <div>
                        <h3 class="text-xl font-bold text-[#1e3a5f]">India Office</h3>
                        <span class="text-xs text-purple-600 font-bold">üìà High Growth</span>
                    </div>
                </div>
                <span class="px-3 py-1 bg-purple-500 text-white text-xs font-bold rounded-full">Franchise</span>
            </div>

            <div class="grid grid-cols-3 gap-4 mb-4">
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="text-xs text-slate-500">Revenue</div>
                    <div class="text-xl font-bold text-[#1e3a5f] mono">$1.84M</div>
                </div>
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="text-xs text-slate-500">OpEx</div>
                    <div class="text-xl font-bold text-red-600 mono">$320K</div>
                </div>
                <div class="p-3 bg-green-50 rounded-lg border border-green-200">
                    <div class="text-xs text-green-600 font-bold">Net Profit</div>
                    <div class="text-xl font-bold text-green-600 mono">$680K</div>
                </div>
            </div>

            <div class="space-y-3">
                <div class="text-xs font-bold text-slate-500 uppercase mb-2">Operating Cost Breakdown</div>
                
                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Staff (15 people)</span>
                        <span class="font-bold">$180K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-blue-500 h-2 rounded-full" style="width: 56%"></div>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Rent (Mumbai)</span>
                        <span class="font-bold">$85K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-yellow-500 h-2 rounded-full" style="width: 27%"></div>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span>Franchise Fee</span>
                        <span class="font-bold">$37K</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="cost-bar bg-red-400 h-2 rounded-full" style="width: 12%"></div>
                    </div>
                </div>
            </div>

            <div class="mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200">
                <div class="flex justify-between items-center">
                    <span class="text-sm font-bold text-purple-800">Profit Margin</span>
                    <span class="text-2xl font-bold text-purple-600">37.0%</span>
                </div>
                <div class="text-xs text-purple-700 mt-1">OpEx Ratio: 17.4% | ROI: 213%</div>
            </div>
        </div>

    </div>

    <!-- Cost Benchmark Table -->
    <div class="bg-white rounded-xl p-6 shadow-lg">
        <h3 class="text-lg font-bold text-[#1e3a5f] mb-4">Cost per Booking Benchmark</h3>
        <div class="overflow-x-auto">
            <table class="w-full text-sm">
                <thead class="bg-slate-100">
                    <tr>
                        <th class="px-4 py-3 text-left font-bold">Office</th>
                        <th class="px-4 py-3 text-right font-bold">Bookings</th>
                        <th class="px-4 py-3 text-right font-bold">Revenue/Booking</th>
                        <th class="px-4 py-3 text-right font-bold">Cost/Booking</th>
                        <th class="px-4 py-3 text-right font-bold">Profit/Booking</th>
                        <th class="px-4 py-3 text-center font-bold">Efficiency</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-slate-200">
                    <tr class="hover:bg-slate-50">
                        <td class="px-4 py-3 font-bold flex items-center gap-2">
                            <img src="https://flagcdn.com/w20/us.png" class="w-5 rounded"> USA
                        </td>
                        <td class="px-4 py-3 text-right mono">1,347</td>
                        <td class="px-4 py-3 text-right mono">$3,147</td>
                        <td class="px-4 py-3 text-right mono text-red-600">$505</td>
                        <td class="px-4 py-3 text-right mono text-green-600 font-bold">$1,589</td>
                        <td class="px-4 py-3 text-center"><span class="px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold">A+</span></td>
                    </tr>
                    <tr class="hover:bg-slate-50">
                        <td class="px-4 py-3 font-bold flex items-center gap-2">
                            <img src="https://flagcdn.com/w20/gb.png" class="w-5 rounded"> UK
                        </td>
                        <td class="px-4 py-3 text-right mono">873</td>
                        <td class="px-4 py-3 text-right mono">$3,253</td>
                        <td class="px-4 py-3 text-right mono text-red-600">$481</td>
                        <td class="px-4 py-3 text-right mono text-green-600 font-bold">$1,420</td>
                        <td class="px-4 py-3 text-center"><span class="px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold">A</span></td>
                    </tr>
                    <tr class="hover:bg-slate-50">
                        <td class="px-4 py-3 font-bold flex items-center gap-2">
                            <img src="https://flagcdn.com/w20/in.png" class="w-5 rounded"> India
                        </td>
                        <td class="px-4 py-3 text-right mono">890</td>
                        <td class="px-4 py-3 text-right mono">$2,067</td>
                        <td class="px-4 py-3 text-right mono text-red-600">$360</td>
                        <td class="px-4 py-3 text-right mono text-green-600 font-bold">$764</td>
                        <td class="px-4 py-3 text-center"><span class="px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold">B+</span></td>
                    </tr>
                    <tr class="hover:bg-slate-50 bg-red-50">
                        <td class="px-4 py-3 font-bold flex items-center gap-2">
                            <img src="https://flagcdn.com/w20/th.png" class="w-5 rounded"> Thailand
                        </td>
                        <td class="px-4 py-3 text-right mono">155</td>
                        <td class="px-4 py-3 text-right mono">$4,000</td>
                        <td class="px-4 py-3 text-right mono text-red-600 font-bold">$903</td>
                        <td class="px-4 py-3 text-right mono text-yellow-600 font-bold">$935</td>
                        <td class="px-4 py-3 text-center"><span class="px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-bold">D</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</main>

<script>
// Chart
const ctx = document.getElementById('officeComparisonChart').getContext('2d');
new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['USA', 'UK', 'India', 'Singapore', 'Australia', 'UAE', 'Thailand'],
        datasets: [{
            label: 'Revenue',
            data: [4.24, 2.84, 1.84, 1.42, 0.98, 1.22, 0.62],
            backgroundColor: '#0066cc',
            borderRadius: 4
        }, {
            label: 'Operating Costs',
            data: [0.68, 0.42, 0.32, 0.24, 0.18, 0.21, 0.14],
            backgroundColor: '#e63946',
            borderRadius: 4
        }, {
            label: 'Net Profit',
            data: [2.14, 1.24, 0.68, 0.58, 0.38, 0.42, 0.15],
            backgroundColor: '#2a9d8f',
            borderRadius: 4
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
            x: { stacked: false },
            y: { beginAtZero: true, ticks: { callback: v => '$' + v + 'M' } }
        }
    }
});

function exportPnL() {
    alert('Exporting P&L Report...\n\nIncludes:\n- All office financials\n- Cost breakdowns\n- Benchmark analysis\n- Recommendations');
}
</script>

</body>
</html>